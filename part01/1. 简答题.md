谈谈你是如何理解 JS 异步编程的，EventLoop，消息队列都是做什么的，什么是宏任务？ 什么是微任务？

-   JS 异步编程
    通过异步操作解决了同步操作的性能问题，避免单线程执行环境下的阻塞

-   事件循环
    event loop 是一个执行模型，在不同的宿主环境有不同的实现。浏览器和 nodejs 基于不同的技术实现了各自的 event loop；
    nodejs 的 event 是基于 libuv，而浏览器的 event loop 则在 html5 的规范中明确定义。
    libuv 已经对 event loop 作出了实现，而 html5 规范中只是定义了浏览器中 event loop 的模型，具体实现留给了浏览器厂商。

-   消息队列
    消息队列是一种数据结构，也可以理解为一种线程模型，可以存放要执行的任务。它符合队列“先进先出”的特点，也就是说要添加任务的话，添加到队列的尾部；要取出任务的话，从队列头部去取。
    针对浏览器宿主环境来说，浏览器页面是由消息队列和事件循环系统来驱动的。
    消息队列中的任务是通过事件循环系统来执行的

-   宏任务
    浏览器宿主环境下，页面中的大部分任务都是在主线程上执行的，这些任务包括了：渲染事件（如解析 DOM、计算布局、绘制）；用户交互事件（如鼠标点击、滚动页面、放大缩小等）；JavaScript 脚本执行事件；网络请求完成、文件读写完成事件。为了协调这些任务有条不紊地在主线程上执行，页面进程引入了消息队列和事件循环机制，渲染进程内部会维护多个消息队列，比如延迟执行队列和普通的消息队列。然后主线程采用一个 for 循环，不断地从这些任务队列中取出任务并执行任务。这些消息队列中的任务称为宏任务。

-   微任务
    通过微任务解决了实时性的问题。
    微任务就是一个需要异步执行的函数，执行时机是在主函数执行结束之后、当前宏任务结束之前。
